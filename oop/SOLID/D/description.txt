Dependency Inversion Principle - принцип инверсии зависимостей

Классы верхних уровней не должны зависеть от классов нижних уровней.
Оба должны зависеть от абстракций.
Абстракции не должны зависеть от деталей.
Детали должны зависеть от абстракций.


Обычно при проектировании программ можно выделить два уровня классов.

    •Классы нижнего уровня реализуют базовые операции вроде
    работы с диском, передачи данных по сети, подключения к
    базе данных и прочее.

    •Классы высокого уровня содержат сложную бизнес-логику
    программы, которая опирается на классы низкого уровня
    для осуществления более простых операций.


Зачастую вы сперва проектируете классы нижнего уровня, а только потом берётесь за верхний уровень.
При таком подходе классы бизнес-логики становятся зависимыми от более примитивных низкоуровневых классов.
Каждое изменение в низкоуровневом классе может затронуть классы бизнес логики, которые его используют.

Принцип инверсии зависимостей предлагает изменить направление, в котором происходит проектирование.

    1.Для начала вам нужно описать интерфейс низкоуровневых
    операций, которые нужны классу бизнес-логики.

    2.Это позволит вам убрать зависимость класса бизнес-логики
    от конкретного низкоуровневого класса, заменив её «мягкой» зависимостью от интерфейса.

    3.Низкоуровневый класс, в свою очередь, станет зависимым
    от интерфейса, определённого бизнес-логикой.


Принцип инверсии зависимостей часто идёт в ногу с принципом открытости/закрытости:
вы сможете расширять низкоуровневые классы и использовать их вместе с классами бизнес-логики, не изменяя код последних.

